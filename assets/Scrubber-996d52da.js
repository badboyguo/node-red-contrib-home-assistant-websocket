import{_ as m,o as i,c as n,a as o,h as d,v as y,b as f,i as u,f as c,d as h,w as v,T as b}from"./app-dbaf0596.js";const w=["server","server-events","server-state-changed","trigger-state","poll-state","ha-time","ha-webhook","ha-zone","api-call-service","ha-entity","ha-fire-event","api-current-state","ha-get-entities","api-get-history","api-render-template","ha-wait-until","ha-api"],x={data:function(){return{after:"",before:"",replaceServerId:"",serverId:"",showCopied:!1,showError:!1}},methods:{scrub:function(r){let e;try{e=JSON.parse(this.before)}catch{this.showError=!0,setTimeout(()=>{this.showError=!1},1500);return}this.showError=!1;let s=e.length;for(;s--;){const a=e[s].type;if(a==="server"){e.splice(s,1);continue}w.includes(a)&&(e[s].server=this.replaceServerId?this.serverId:""),["lat","lon","latitude","longitude"].forEach(p=>{e[s][p]&&(e[s][p]="")})}this.after=JSON.stringify(e)},copy:function(){this.$refs.copyme.select(),document.execCommand("copy"),this.showCopied=!0,setTimeout(()=>{this.showCopied=!1},1500)}},mounted(){localStorage.serverId&&(this.serverId=localStorage.serverId)},watch:{serverId(r){localStorage.serverId=r}}},I={key:0},S={key:0,class:"popup error"},C={key:0,class:"popup copied"};function g(r,e,s,a,p,l){return i(),n("div",null,[o("p",null,[o("label",null,[d(o("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>r.replaceServerId=t)},null,512),[[y,r.replaceServerId]]),f(" Replace Home Assistant server id ")]),r.replaceServerId?(i(),n("span",I,[f(" with "),d(o("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>r.serverId=t),placeholder:"xxxxxxxx.xxxxx"},null,512),[[u,r.serverId]])])):c("v-if",!0)]),d(o("textarea",{"onUpdate:modelValue":e[2]||(e[2]=t=>r.before=t),placeholder:"paste exported Node-RED flow here"},null,512),[[u,r.before]]),o("button",{onClick:e[3]||(e[3]=(...t)=>l.scrub&&l.scrub(...t))},"Scrub"),h(b,{name:"fade"},{default:v(()=>[r.showError?(i(),n("span",S,"Invalid JSON")):c("v-if",!0)]),_:1}),d(o("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>r.after=t),ref:"copyme"},null,512),[[u,r.after]]),o("button",{onClick:e[5]||(e[5]=(...t)=>l.copy&&l.copy(...t))},"Copy to Clipboard"),h(b,{name:"fade"},{default:v(()=>[r.showCopied?(i(),n("span",C,"Copied")):c("v-if",!0)]),_:1})])}const N=m(x,[["render",g],["__scopeId","data-v-8b75587b"],["__file","Scrubber.vue"]]);export{N as default};
